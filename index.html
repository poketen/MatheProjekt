<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
      
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<!--Axiome prüfen 1. Assoziativität , 2. Neutrales Element, 3. Inverses Element (4. Abelsche eigenschaft/Kommutativ)-->
    
<h2>Prüfen ob eine Zahlenmenge eine Gruppe ist</h2>

<form id="groupChecker">

    <label for="menge">Menge (durch Komma-getrennte Zahlen):</label><br>
    <select id="menge" onchange="showInput()" required>
        <option>Z - Ganze Zahlen</option>
        <option>R - Reele Zahlen</option>
        <option value="user">Benutzerdefiniert</option>
    </select>

    <div id = "input" class="hidden">
    <input type="text" id="set" placeholder="z.B. 1,2,3,4" required><br>
</div>
    <label for="operation">Verknüpfung:</label><br>
    <select id="operation" onchange="showModuloInput()" required>
        <option value="addition">Addition (+)</option>
        <option value="subtraktion">Subtraktion (-)</option>
        <option value="multiplication">Multiplikation (*)</option>
        <option value="division">Division (/)</option>
        <option value="modulo">Modulo (%)</option>
       
    </select><br>

    <div id="moduloInput" class="hidden">
        <label for="modulus">Modulus:</label><br>
        <input type="number" id="modulus" placeholder="z.B. 5"><br>
    </div>

    <button type="button" onclick="checkGroup()">Prüfen</button>
</form>

<div id="result"></div>






<script>
    function showModuloInput() {
        const operation = document.getElementById("operation").value;
        const moduloInputDiv = document.getElementById("moduloInput");
        
       
        if (operation === "modulo") {
            moduloInputDiv.classList.remove('hidden');
        } else {
            moduloInputDiv.classList.add('hidden');
        }
    }
    function showInput(){
        const menge = document.getElementById("menge").value;
        const inputDiv = document.getElementById("input");

       
        if (menge === "user") {
            inputDiv.classList.remove('hidden');
        } else {
            inputDiv.classList.add('hidden');
        }
    }
    function checkGroup(){
        const set = document.getElementById("set").value.split(",").map(Number);
        const operation = document.getElementById("operation").value;
        const mod = document.getElementById("modulus").value;
        const resultElement = document.getElementById("result");


        console.log(set);
        console.log(operation);
        console.log(modulus);

        let neutralesElement = false;
        let inversesElement = false;


        if (set.some(isNaN)) {
                resultElement.textContent = "Die Menge G enthält ungültige Werte.";
                return;
            }


        if (operation === "addition") {
            neutralesElement = set.includes(0);
            inversesElement = set.every(a => a === 0 || setG.includes(-a)); 
         }
        else if (operation === "multiplication") {
            
            neutralesElement = set.includes(1);
            inversesElement = set.every(a => a === 0 || setG.includes(1 / a)); 
        }
        else if (operation === "modulo") {
                if (modulus === "" || isNaN(modulus) || modulus <= 0) {
                    result.textContent = "Bitte gib einen gültigen Modulus ein.";
                    return;
                }

                const mod = Number(modulus);
                
                neutralesElement = setG.includes(0);
                inversesElement = setG.every(a => setG.includes((mod - a) % mod));
            }
        else if (operation === "subtraktion") {
            neutralesElement = set.includes(0); 
            inversesElement = set.every(a => set.includes(a)); 
        }
        else if (operation === "division") {
            neutralesElement = set.includes(1); 
            inversesElement = set.every(a => a !== 0 && set.includes(1 / a)); 
        }


        if (neutralesElement && inversesElement) {
                result.textContent = "Die Menge bildet eine Gruppe.";
                result.style.color = "green";
            } else {
                result.textContent = "Die Menge bildet keine Gruppe.";
                result.style.color = "red";
            }
    }


</script>

    
</body>

</html>